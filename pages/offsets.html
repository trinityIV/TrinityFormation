<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recherche d'Offsets - Trinity</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body class="bg-dark text-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-black fixed-top">
        <div class="container">
            <a class="navbar-brand" href="../index.html">Trinity</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">Accueil</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown">
                            Game Hacking
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="cheat-engine-bases.html">Cheat Engine</a></li>
                            <li><a class="dropdown-item" href="ida-pro.html">IDA Pro</a></li>
                            <li><a class="dropdown-item" href="signatures.html">Signatures</a></li>
                            <li><a class="dropdown-item" href="offsets.html">Offsets</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            OSINT
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="osint.html#introduction">Introduction √† l'OSINT</a></li>
                            <li><a class="dropdown-item" href="osint.html#methodologie">M√©thodologie</a></li>
                            <li><a class="dropdown-item" href="osint.html#techniques">Techniques</a></li>
                            <li><a class="dropdown-item" href="osint.html#outils">Outils</a></li>
                            <li><a class="dropdown-item" href="osint.html#ethique">√âthique</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <canvas id="background-canvas"></canvas>
    
    <main class="container mt-5 pt-5">
        <article class="tutorial-content">
            <h1 class="display-4 mb-4">Recherche d'Offsets</h1>
            
            <section class="mb-5">
                <h2>Introduction aux Offsets</h2>
                <div class="card bg-dark border-light mb-3">
                    <div class="card-body">
                        <p>Les offsets sont des d√©calages en m√©moire qui permettent de localiser des donn√©es sp√©cifiques dans un programme. Ils sont cruciaux pour le game hacking et le reverse engineering.</p>
                        
                        <h3>Types d'offsets :</h3>
                        <ul>
                            <li>Offsets statiques</li>
                            <li>Offsets dynamiques</li>
                            <li>Offsets relatifs</li>
                            <li>Offsets de classe/structure</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="mb-5">
                <h2>M√©thodologie de Recherche</h2>
                <div class="card bg-dark border-light mb-3">
                    <div class="card-body">
                        <h3>1. Analyse statique</h3>
                        <ul>
                            <li>Utilisation d'IDA Pro/Ghidra</li>
                            <li>Analyse des structures</li>
                            <li>Recherche de r√©f√©rences</li>
                        </ul>

                        <h3>2. Analyse dynamique</h3>
                        <ul>
                            <li>Utilisation de Cheat Engine</li>
                            <li>D√©bogage en temps r√©el</li>
                            <li>Tra√ßage des acc√®s m√©moire</li>
                        </ul>

                        <pre class="bg-dark text-light p-3">
// Exemple de structure C++ avec offsets
class Player {
    // 0x00
    Vector3 position;    // 12 bytes
    // 0x0C
    float health;       // 4 bytes
    // 0x10
    float armor;        // 4 bytes
    // 0x14
    char name[32];      // 32 bytes
    // 0x34
};</pre>
                    </div>
                </div>
            </section>

            <section class="mb-5">
                <h2>Techniques de Dump M√©moire</h2>
                <div class="card bg-dark border-light mb-3">
                    <div class="card-body">
                        <h3>Outils de dump</h3>
                        <ul>
                            <li>Process Hacker</li>
                            <li>x64dbg</li>
                            <li>ReClass.NET</li>
                        </ul>

                        <pre class="bg-dark text-light p-3">
// Code C++ pour dump m√©moire
void DumpMemory(HANDLE hProcess, uintptr_t address, size_t size) {
    std::vector<BYTE> buffer(size);
    SIZE_T bytesRead;
    
    if (ReadProcessMemory(hProcess, (LPCVOID)address, 
                         buffer.data(), size, &bytesRead)) {
        // Analyse du dump
        for (size_t i = 0; i < bytesRead; i += 16) {
            printf("%p: ", (void*)(address + i));
            for (size_t j = 0; j < 16 && i + j < bytesRead; j++) {
                printf("%02X ", buffer[i + j]);
            }
            printf("\n");
        }
    }
}</pre>
                    </div>
                </div>
            </section>

            <section class="mb-5">
                <h2>Pointeurs et Cha√Ænes de Pointeurs</h2>
                <div class="card bg-dark border-light mb-3">
                    <div class="card-body">
                        <h3>Structure des pointeurs</h3>
                        <pre class="bg-dark text-light p-3">
// Exemple de cha√Æne de pointeurs
base = moduleBase + 0x1234567;
player = *(uintptr_t*)(base);
health = *(float*)(player + 0x0C);

// Version plus complexe
health = *(float*)(
    *(uintptr_t*)(
        *(uintptr_t*)(moduleBase + 0x1234567)
        + 0x40
    ) + 0x0C
);</pre>

                        <div class="alert alert-info mt-3">
                            <h4>üí° Astuce</h4>
                            <p>Pour trouver des cha√Ænes de pointeurs stables :</p>
                            <ul>
                                <li>Chercher des pointeurs proches de la base du module</li>
                                <li>√âviter les pointeurs sur la pile</li>
                                <li>V√©rifier la stabilit√© apr√®s red√©marrage</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section class="mb-5">
                <h2>Outils et Automatisation</h2>
                <div class="card bg-dark border-light mb-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h3>ReClass.NET</h3>
                                <ul>
                                    <li>Visualisation des structures</li>
                                    <li>G√©n√©ration de code</li>
                                    <li>Analyse en temps r√©el</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h3>Scripts personnalis√©s</h3>
                                <pre class="bg-dark text-light p-3">
// Python script pour offset dumping
def dump_offsets(process_name):
    pm = pymem.Pymem(process_name)
    base = pm.base_address
    
    offsets = {
        "health": 0x0C,
        "armor": 0x10,
        "name": 0x14
    }
    
    return offsets</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="mb-5">
                <h2>Maintenance et Mise √† Jour</h2>
                <div class="card bg-dark border-light mb-3">
                    <div class="card-body">
                        <h3>Strat√©gies de maintenance</h3>
                        <ul>
                            <li>Syst√®me de versioning des offsets</li>
                            <li>Scripts de mise √† jour automatique</li>
                            <li>Tests de validation</li>
                            <li>Documentation des changements</li>
                        </ul>

                        <pre class="bg-dark text-light p-3">
// Structure de donn√©es JSON pour les offsets
{
    "version": "1.0.0",
    "game_build": "12345",
    "offsets": {
        "player_base": "0x1234567",
        "health": "0x0C",
        "armor": "0x10",
        "inventory": {
            "base": "0x20",
            "items": "0x24",
            "count": "0x28"
        }
    }
}</pre>
                    </div>
                </div>
            </section>

            <div class="alert alert-warning mt-5">
                <h4>‚ö†Ô∏è Important</h4>
                <p>Les offsets peuvent changer √† chaque mise √† jour du jeu. Il est crucial de :</p>
                <ul>
                    <li>Maintenir une base de donn√©es d'offsets par version</li>
                    <li>Avoir un syst√®me de d√©tection des changements</li>
                    <li>Documenter la m√©thodologie de recherche</li>
                </ul>
            </div>
        </article>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/main.js"></script>
    <script>
        // Animation des sections au scroll
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('section').forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>
